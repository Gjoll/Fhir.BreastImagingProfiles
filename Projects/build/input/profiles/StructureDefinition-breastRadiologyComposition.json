{
  "resourceType": "StructureDefinition",
  "id": "breastRadiologyComposition",
  "url": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/breastRadiologyComposition",
  "version": "0.0.2",
  "name": "BreastRadiologyComposition",
  "title": "Breast Radiology Composition",
  "status": "draft",
  "date": "2019-11-01",
  "publisher": "Hl7-Clinical Interoperability Council",
  "contact": [
    {
      "telecom": [
        {
          "system": "url",
          "value": "http://www.hl7.org/Special/committees/cic"
        }
      ]
    }
  ],
  "description": "This profile defines the composition instance for the Breast Radiology FHIR Document.\nThis profile is based on FHIR Composition resource.\n\nA FHIR Document is a Bundle that contains a composition as the first entry and ,\nprovides a single item (bundle) that contains all the resources that are a part of\nthe Breast Radiology Diagnostic Report.\n\nThe composition object is an required part of the FHIR Document structure.\nOne composition must exist, and it must be the first resource stored in the FHIR document bundle.\n\nThe other exam related resources are referenced through the \nsections defined in this resource.\n\nThis composition creates the following sections.\n\nA. Report Section.\nThis contains a single reference to the Breast Radiology Report\nAll Breast Radiology Findings are referenced by the reports results element.\n\nB. Impressions Section.\nAll of the clinical impressions created for this exam are referenced in this section.\n\nC. Recommendations Section.\nAll of the service and medication recommendations created for this exam are referenced in this section.\nIf a recommendation is in response to a particular observation or finding, then \nthe recommendations 'reasonReference' should contain a  reference to the pertinant observation or finding.",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "fhirdocumentreference",
      "uri": "http://hl7.org/fhir/documentreference",
      "name": "FHIR DocumentReference"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Composition",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Composition",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition.extension",
        "path": "Composition.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Composition.extension:nodeSection",
        "path": "Composition.extension",
        "sliceName": "nodeSection",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/gNode"
            ]
          }
        ]
      },
      {
        "id": "Composition.extension:nodeSection.extension:graph.valueString",
        "path": "Composition.extension.extension.valueString",
        "min": 0,
        "patternString": "focus"
      },
      {
        "id": "Composition.extension:nodeSection.extension:display.valueString",
        "path": "Composition.extension.extension.valueString",
        "min": 0,
        "patternString": "Breast/Radiology/Composition"
      },
      {
        "id": "Composition.extension:nodeSection.extension:targets.valueString",
        "path": "Composition.extension.extension.valueString",
        "min": 0,
        "patternString": "^Composition.section"
      },
      {
        "id": "Composition.type",
        "path": "Composition.type",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "42132-1",
              "system": "http://loinc.org",
              "display": "US Breast screening"
            }
          ]
        }
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "pattern",
              "path": "code"
            }
          ],
          "rules": "open",
          "ordered": false,
          "description": "Breast Radiology Report Section"
        },
        "min": 1
      },
      {
        "id": "Composition.section:reportSection",
        "path": "Composition.section",
        "sliceName": "reportSection",
        "min": 1,
        "max": "1"
      },
      {
        "id": "Composition.section:reportSection.extension",
        "path": "Composition.section.extension",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "url"
            }
          ],
          "ordered": false,
          "rules": "open"
        },
        "min": 1
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection",
        "path": "Composition.section.extension",
        "sliceName": "nodeSection",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/gNode"
            ]
          }
        ]
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:graph.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "focus"
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:group.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "section"
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:display.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "Report/Section"
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:targets.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "^entry"
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:lhsText.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "%card^"
      },
      {
        "id": "Composition.section:reportSection.extension:nodeSection.extension:rhsText.valueString",
        "path": "Composition.section.extension.extension.valueString",
        "min": 0,
        "patternString": "%card^.entry"
      },
      {
        "id": "Composition.section:reportSection.title",
        "path": "Composition.section.title",
        "patternString": "Breast Radiology Report"
      },
      {
        "id": "Composition.section:reportSection.code",
        "path": "Composition.section.code",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "sectionReport",
              "system": "http://hl7.org/fhir/us/breast-radiology/CodeSystem/CompositionSectionSliceCodesCS"
            }
          ]
        }
      },
      {
        "id": "Composition.section:reportSection.entry",
        "path": "Composition.section.entry",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/breastRadiologyReport"
            ]
          }
        ]
      }
    ]
  }
}
